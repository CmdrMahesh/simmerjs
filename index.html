<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Simmer by gmmorris</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Simmer</h1>
          <h2>A pure Javascript reverse CSS selector engine which calculates a DOM element&#39;s unique CSS selector on the current page.</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/gmmorris/simmerjs/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/gmmorris/simmerjs/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/gmmorris/simmerjs" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <h1>
<a id="simmer" class="anchor" href="#simmer" aria-hidden="true"><span class="octicon octicon-link"></span></a>Simmer</h1>

<p>A pure Javascript reverse CSS selector engine which calculates a DOM element's unique CSS selector on the current page.</p>

<p>You can rad an article about <a href="https://medium.com/@chekofif/how-i-built-a-reverse-css-selector-engine-42cb8062a8be">the process behind the creation of Simmer on Medium.</a>.</p>

<h3>
<a id="basic-usage" class="anchor" href="#basic-usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Basic usage</h3>

<p>To use Simmer to analyze an element and produce a unique CSS selector for it, all you have to do is call the global
Simmer variable as a function.</p>

<div class="highlight highlight-html"><pre>&lt;<span class="pl-ent">div</span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">"</span>myUniqueElement<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">span</span>&gt;&lt;/<span class="pl-ent">span</span>&gt;
    &lt;<span class="pl-ent">br</span>/&gt;
    &lt;<span class="pl-ent">span</span>&gt;&lt;/<span class="pl-ent">span</span>&gt;
&lt;/<span class="pl-ent">div</span>&gt;</pre></div>

<div class="highlight highlight-js"><pre><span class="pl-k">var</span> myElement <span class="pl-k">=</span> <span class="pl-c1">document</span>.<span class="pl-c1">getElementById</span>(<span class="pl-s"><span class="pl-pds">"</span>#myUniqueElement<span class="pl-pds">"</span></span>);

<span class="pl-en">console</span><span class="pl-c1">.log</span>(Simmer(myElement)); <span class="pl-c">// prints "#myUniqueElement"</span></pre></div>

<h3>
<a id="configurations" class="anchor" href="#configurations" aria-hidden="true"><span class="octicon octicon-link"></span></a>Configurations</h3>

<p>The global Simmer variable has a method called "configuration" which can be used in two way:
1. Simple calling it will return an object which contains the current configuration values:</p>

<div class="highlight highlight-js"><pre>    <span class="pl-c">// calling</span>
    Simmer.configuration();

    <span class="pl-c">//returns the object:</span>
    {
        depth   <span class="pl-k">:</span><span class="pl-c1">3</span>,
        specifictyThreshold<span class="pl-k">:</span><span class="pl-c1">100</span>,
        queryEngine <span class="pl-k">:</span><span class="pl-c1">null</span>,
        errorHandling    <span class="pl-k">:</span><span class="pl-c1">false</span>,
        selectorMaxLength<span class="pl-k">:</span><span class="pl-c1">512</span>
    }</pre></div>

<ol>
<li> Calling it with an object as a parameter allows you to replace the current configured values with new ones:</li>
</ol>

<div class="highlight highlight-js"><pre>    <span class="pl-c">// calling</span>
    Simmer.configuration({
        depth   <span class="pl-k">:</span><span class="pl-c1">5</span>
    });

    <span class="pl-c">//returns the object:</span>
    {
        depth   <span class="pl-k">:</span><span class="pl-c1">5</span>,
        specifictyThreshold<span class="pl-k">:</span><span class="pl-c1">100</span>,
        queryEngine <span class="pl-k">:</span><span class="pl-c1">null</span>,
        errorHandling    <span class="pl-k">:</span><span class="pl-c1">false</span>,
        selectorMaxLength<span class="pl-k">:</span><span class="pl-c1">512</span>
    }</pre></div>

<p>These are the different configuration options:</p>

<ul>
<li>
<code>depth</code> - How deep into the DOM hierarchy should Simmer go in order to reach a unique selector. This is a delicate game because the higher the number the more likely you are to reach a unique selector, but it also means a longer and more breakable one. Assuming you want to store this selector to use later, making it longer also means it is more likely to change and loose it's validity.</li>
<li>
<code>specifictyThreshold</code> - A minimum specificty level. Once the parser reaches this level it starts verifying the selector after every method is called. This can cut down our execution time by avoiding needless parsing but can also hurt execution times by performing many verifications. Specificity is calculated based on the W3C spec: <a href="http://www.w3.org/TR/css3-selectors/#specificity">http://www.w3.org/TR/css3-selectors/#specificity</a>
</li>
<li>
<code>errorHandling</code> - How to handle errors which occur during the analysis? The default is 'silent'. There are three possible values: 1) 'silent' which means nothing happens. The error is ignored and Simmer continues as usual. 2) 'verbose' which means the error will be thrown and has to be caught by the calling code. 3) A callback function which will be called with the error object as a first parameter and the element being parsed as second parameter.</li>
<li>
<code>selectorMaxLength</code> - A maximum length for the CSS selector can be specified - if no specific selector can be found which is shorter than this length then it is treated as if no selector could be found. By default 512 characters.</li>
</ul>

<h3>
<a id="conflict" class="anchor" href="#conflict" aria-hidden="true"><span class="octicon octicon-link"></span></a>Conflict</h3>

<p>Just in case you also had the brilliant idea of using a variable called "Simmer", or you wish to move it off of the global object then you can use the noConflict method to receive a reference to the object and remove it from the window.
Calling it will also revert the original value of window.Simmer which was there before loading the simmer.js script (if there was one)</p>

<div class="highlight highlight-js"><pre>    <span class="pl-k">var</span> mySimmer <span class="pl-k">=</span> Simmer.noConflict();
    mySimmer(myElm);</pre></div>
        </section>

        <footer>
          Simmer is maintained by <a href="https://github.com/gmmorris">gmmorris</a><br>
          This page was generated by <a href="https://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

                  <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-47874971-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

      </div>
    </div>
  </body>
</html>
